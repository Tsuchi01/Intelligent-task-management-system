#Профілювання продуктивності
**Проєкт:** Інтелектуальна система керування завданнями  
**Мова програмування:** Python 3.10  
**Фреймворк:** Tkinter + SQLite + HuggingFace T5 API

---

## 1. Інструменти профілювання

### CPU-профілювання:
- `cProfile` — стандартний профайлер Python для аналізу часу виконання.
- `pstats` — обробка результатів з `cProfile`.

### Профілювання памʼяті:
- `memory_profiler` — візуалізація споживання памʼяті функціями.
- `psutil` — системна інформація (CPU, RAM, процеси).

### Профілювання БД:
- `sqlite3.set_trace_callback()` — дозволяє логувати всі SQL-запити.

---

## 2. Ключові метрики продуктивності

| Метрика                | Опис                                                                 |
|------------------------|----------------------------------------------------------------------|
| CPU Time               | Час, який витрачають окремі функції на виконання                    |
| Memory Usage           | Пікове та середнє використання памʼяті                              |
| DB Query Time          | Затримка при записі/читанні з SQLite                                |
| UI Response Latency    | Час реакції інтерфейсу (від кліку до результату)                    |
| T5 Model Latency       | Затримка відповіді API моделі Hugging Face                          |

---

## 3. Тестові сценарії

- Додавання 10 нових завдань із пріоритетами.
- Запит до моделі T5 для кожного завдання.
- Видалення кількох завдань.
- Відмітка завдання як виконаного.
- Оновлення та повторне завантаження списку.

---

## 4. Виявлені “гарячі точки”

| Функція                       | CPU Time (%) | Коментар                              |
|-------------------------------|--------------|----------------------------------------|
| `T5Helper.query()`            | 44%          | Довгі HTTP-запити до API               |
| `TaskApp.load_tasks()`        | 18%          | Повторне завантаження без кешу         |
| `TaskManager.add_task()`      | 12%          | SQLite-запис, можливе кешування        |

---

## 5. Оптимізація

**Проблема:** Занадто довгий час відповіді API (T5).  
**Рішення:** Додано кешування останніх 5 відповідей з привʼязкою до задачі.

**Проблема:** Підвантаження завдань при кожній зміні.  
**Рішення:** Збережено останній стан у памʼяті до завершення сесії.

---

## 6. Порівняння (до/після)

| Операція                    | До оптимізації | Після оптимізації |
|-----------------------------|----------------|--------------------|
| Час відповіді T5 (1 запит)  | ~12.3 c        | ~6.8 c             |
| Завантаження списку задач   | ~0.56 c        | ~0.22 c            |
| Пікова памʼять              | ~114 MB        | ~91 MB             |

---

## Кінцеві результати:

Під час профілювання було виявлено основні проблеми — довгий час виконання AI-запитів та зайве оновлення інтерфейсу. Після додавання кешування і покращення роботи з базою даних програма почала працювати швидше — на 38–45% швидше за часом та використовує на 20% менше памʼяті. Рекомендується протестувати програму ще при більших навантаженнях.